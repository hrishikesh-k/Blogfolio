!function(t){"use strict";function e(t){return void 0===t||t}function i(t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n();return e}function n(){return Object.create(null)}function r(t,e){return e.length-t.length}const s=/[\p{Z}\p{S}\p{P}\p{C}]+/u;function h(t,e){const i=Object.keys(t),n=i.length,r=[];let s="",h=0;for(let o,f,l=0;l<n;l++)o=i[l],(f=t[o])?(r[h++]=new RegExp(e?"(?!\\b)"+o+"(\\b|_)":o,"g"),r[h++]=f):s+=(s?"|":"")+o;return s&&(r[h++]=new RegExp(e?"(?!\\b)("+s+")(\\b|_)":"("+s+")","g"),r[h]=""),r}function o(t,e){for(let i=0,n=e.length;i<n&&(t=t.replace(e[i],e[i+1]));i+=2);return t}function f(t){if((t=t.toLowerCase())&&(this.o&&(t=o(t,this.o)),this.A&&1<t.length&&(t=o(t,this.A)),t=t.split(s),this.filter)){var e=this.filter;const i=t.length,n=[];for(let r=0,s=0;r<i;r++){const i=t[r];i&&!e[i]&&(n[s++]=i)}t=n}return t}const l={},u={};function c(t,r){if(!(this instanceof c))return new c(t);let s;if(t){var o=t.charset;s=t.lang,"string"==typeof o&&(-1===o.indexOf(":")&&(o+=":default"),o=u[o]),"string"==typeof s&&(s=l[s])}else t={};let g,a,p=t.context||{};if(this.encode=t.encode||o&&o.encode||f,this.register=r||n(),this.v=g=t.resolution||9,this.C=r=o&&o.C||t.tokenize||"strict",this.j="strict"===r&&p.depth,this.l=e(p.bidirectional),this.g=a=e(t.optimize),this.s=e(t.fastupdate),this.h=t.minlength||1,this.D=t.boost,this.i=a?i(g):n(),this.B=g=p.resolution||1,this.m=a?i(g):n(),this.u=o&&o.u||t.rtl,this.o=(r=t.matcher||s&&s.o)&&h(r,!1),this.A=(r=t.stemmer||s&&s.A)&&h(r,!0),t=r=t.filter||s&&s.filter){t=r,o=n();for(let e=0,i=t.length;e<i;e++)o[t[e]]=1;t=o}this.filter=t}function g(t,e,i,n,r){return i&&1<t?e+(n||0)<=t?i+(r||0):(t-1)/(e+(n||0))*(i+(r||0))+1|0:0}function a(t,e,i,r,s,h,o){let f=o?t.m:t.i;(!e[i]||o&&!e[i][o])&&(t.g&&(f=f[r]),o?((e=e[i]||(e[i]=n()))[o]=1,f=f[o]||(f[o]=n())):e[i]=1,f=f[i]||(f[i]=[]),t.g||(f=f[r]||(f[r]=[])),h&&-1!==f.indexOf(s)||(f[f.length]=s,t.s&&((t=t.register[s]||(t.register[s]=[]))[t.length]=f)))}function p(t,e,i,n,r,s,h,o){let f=[],l=o?t.m:t.i;if(t.g||(l=m(l,h,o,t.l)),l){let i=0;const u=Math.min(l.length,o?t.B:t.v);for(let e,c,g=0,a=0;g<u&&!((e=l[g])&&(t.g&&(e=m(e,h,o,t.l)),r&&e&&s&&(c=e.length,c<=r?(r-=c,e=null):(e=e.slice(r),r=0)),e&&(f[i++]=e,s&&(a+=e.length,a>=n))));g++);if(i)return s?d(f,n,0):void(e[e.length]=f)}return!i&&f}function d(t,e,i){return t=1===t.length?t[0]:[].concat.apply([],t),i||t.length>e?t.slice(i,i+e):t}function m(t,e,i,n){return i?t=(t=t[(n=n&&e>i)?e:i])&&t[n?i:e]:t=t[e],t}function v(t,e,i,n,r){let s=0;if(t.constructor===Array)if(r)-1!==(e=t.indexOf(e))?1<t.length&&(t.splice(e,1),s++):s++;else{r=Math.min(t.length,i);for(let h,o=0;o<r;o++)(h=t[o])&&(s=v(h,e,i,n,r),n||s||delete t[o])}else for(let h in t)(s=v(t[h],e,i,n,r))||delete t[h];return s}c.prototype.append=function(t,e){return this.add(t,e,!0)},c.prototype.add=function(t,e,i,r){if(e&&(t||0===t)){if(!r&&!i&&this.register[t])return this.update(t,e);if(r=(e=this.encode(e)).length){const u=n(),c=n(),p=this.j,d=this.v;for(let m=0;m<r;m++){let v=e[this.u?r-1-m:m];var s=v.length;if(v&&s>=this.h&&(p||!c[v])){var h=g(d,r,m),o="";switch(this.C){case"full":if(3<s){for(h=0;h<s;h++)for(var f=s;f>h;f--)if(f-h>=this.h){var l=g(d,r,m,s,h);a(this,c,o=v.substring(h,f),l,t,i)}break}case"reverse":if(2<s){for(f=s-1;0<f;f--)(o=v[f]+o).length>=this.h&&a(this,c,o,g(d,r,m,s,f),t,i);o=""}case"forward":if(1<s){for(f=0;f<s;f++)(o+=v[f]).length>=this.h&&a(this,c,o,h,t,i);break}default:if(this.D&&(h=Math.min(h/this.D(e,v,m)|0,d-1)),a(this,c,v,h,t,i),p&&1<r&&m<r-1)for(s=n(),o=this.B,h=v,f=Math.min(p+1,r-m),s[h]=1,l=1;l<f;l++)if((v=e[this.u?r-1-m-l:m+l])&&v.length>=this.h&&!s[v]){s[v]=1;const e=this.l&&v>h;a(this,u,e?h:v,g(o+(r/2>o?0:1),r,m,f-1,l-1),t,i,e?v:h)}}}}this.s||(this.register[t]=1)}}return this},c.prototype.search=function(t,e,i){i||(e||"object"!=typeof t?"object"==typeof e&&(i=e):t=(i=t).query);let s,h,o,f,l,u=[],c=0;if(i){e=i.limit,c=i.offset||0;var g=i.context;h=!1}if(t&&(s=(t=this.encode(t)).length,1<s)){i=n();var a=[];for(let e,n=0,r=0;n<s;n++)if((e=t[n])&&e.length>=this.h&&!i[e]){if(!(this.g||h||this.i[e]))return u;a[r++]=e,i[e]=1}s=(t=a).length}if(!s)return u;for(e||(e=100),i=0,(g=this.j&&1<s&&!1!==g)?(o=t[0],i=1):1<s&&t.sort(r);i<s;i++){if(l=t[i],g?(f=p(this,u,h,e,c,2===s,l,o),h&&!1===f&&u.length||(o=l)):f=p(this,u,h,e,c,1===s,l),f)return f;if(h&&i===s-1){if(!(a=u.length)){if(g){g=0,i=-1;continue}return u}if(1===a)return d(u[0],e,c)}}return function(t,e,i,r){const s=t.length;let h,o,f=[],l=0;r&&(r=[]);for(let u=s-1;0<=u;u--){const c=t[u],g=c.length,a=n();let p=!h;for(let t=0;t<g;t++){const n=c[t],g=n.length;if(g)for(let t,c,d=0;d<g;d++)if(c=n[d],h){if(h[c]){if(!u)if(i)i--;else if(f[l++]=c,l===e)return f;(u||r)&&(a[c]=1),p=!0}if(r&&(o[c]=(t=o[c])?++t:t=1,t<s)){const e=r[t-2]||(r[t-2]=[]);e[e.length]=c}}else a[c]=1}if(r)h||(o=a);else if(!p)return[];h=a}if(r)for(let t,n,s=r.length-1;0<=s;s--){t=r[s],n=t.length;for(let r,s=0;s<n;s++)if(r=t[s],!h[r]){if(i)i--;else if(f[l++]=r,l===e)return f;h[r]=1}}return f}(u,e,c,h)},c.prototype.contain=function(t){return!!this.register[t]},c.prototype.update=function(t,e){return this.remove(t).add(t,e)},c.prototype.remove=function(t,e){const i=this.register[t];if(i){if(this.s)for(let e,n=0;n<i.length;n++)e=i[n],e.splice(e.indexOf(t),1);else v(this.i,t,this.v,this.g),this.j&&v(this.m,t,this.B,this.g);e||delete this.register[t]}return this};const y=t;let b;const x={Index:c,Document:null,Worker:null,registerCharset:function(t,e){u[t]=e},registerLanguage:function(t,e){l[t]=e}};(b=y.define)&&b.amd?b([],(function(){return x})):y.exports?y.exports=x:y.FlexSearch=x}(this);